<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3</title>
    <script type="text/javascript" src="vendor/createjs/createjs.min.js"></script>
    <script type="text/javascript" src="js/warheroes2.js"></script>   
</head>
<body onload="init();">
  <canvas id="demoCanvas" width="1" height="1"></canvas>
  <script>
    var game;  
    var objects = [/*Snake*/{hp: 5, attack: 1}, /*Harpy*/{hp: 10, attack: 3}, /*Knight */{hp: 15, attack: 10}];
    
    function init(){       
        game = new Game("demoCanvas");
        game.start();     
        if (!game.storage.getField("coins")) {
            game.storage.setField("coins", 0);
            alert(game.storage.getField("coins"));
        };
        game.stage.on("stagemousedown", function(event) {
            //console.log(event);
            if (!event.relatedTarget) {
                game.knight.walk(event.stageX - 42.5, event.stageY - 42.5);
            };
        });
        document.onkeydown = function(ev){
            console.log(ev);
            console.log(ev.code);
            if (ev.code == 'KeyB') {
                game.inventory.toggle();
            };
            if (ev.code == 'KeyA') {
                game.knight.useAbility(target, 'shieldUp')
            }
            if (ev.code.substring(0,5) == 'Digit') {
               game.inventory.applySlot(parseInt(ev.code.substring(5)));
            }
        };
        game.resizeCanvas();
    }
</script>
</body>
</html>